"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[145],{243:function(t,n,e){function r(t,n,e,r,c,u,o){try{var a=t[u](o),i=a.value}catch(s){return void e(s)}a.done?n(i):Promise.resolve(i).then(r,c)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(c,u){var o=t.apply(n,e);function a(t){r(o,c,u,a,i,"next",t)}function i(t){r(o,c,u,a,i,"throw",t)}a(void 0)}))}}e.d(n,{yA:function(){return s},Ku:function(){return x},ts:function(){return d},Q_:function(){return l},fI:function(){return y},Aj:function(){return f}});var u=e(757),o=e.n(u),a="https://api.themoviedb.org/3",i="86ff1474d02492b68b238125fe79bb52",s="https://image.tmdb.org/t/p/w500";function f(){return p.apply(this,arguments)}function p(){return(p=c(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/trending/all/day?api_key=").concat(i));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t,n){return h.apply(this,arguments)}function h(){return(h=c(o().mark((function t(n,e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&page=").concat(n));case 2:return r=t.sent,t.next=5,r.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=c(o().mark((function t(n){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/movie/").concat(n,"?api_key=").concat(i));case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return m.apply(this,arguments)}function m(){return(m=c(o().mark((function t(n){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/movie/").concat(n,"/credits?api_key=").concat(i));case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return b.apply(this,arguments)}function b(){return(b=c(o().mark((function t(n){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(a,"/movie/").concat(n,"/reviews?api_key=").concat(i));case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},299:function(t,n,e){e.d(n,{r:function(){return a}});var r=e(243),c=e(689),u=e(731),o=e(184),a=function(t){var n=t.name,e=t.title,a=t.poster,i=t.id,s=(0,c.TH)();return(0,o.jsx)("li",{children:(0,o.jsxs)(u.rU,{to:"/movies/".concat(i),state:{from:s},children:[(0,o.jsxs)("p",{children:[n,e]}),(0,o.jsx)("img",{src:"".concat(r.yA).concat(a),alt:e})]})})}},409:function(t,n,e){e.d(n,{r:function(){return c}});var r=e(184),c=function(t){var n=t.children;return(0,r.jsx)("ul",{children:n})}},145:function(t,n,e){e.r(n),e.d(n,{default:function(){return p}});var r=e(885),c=e(791),u=e(243),o=e(299),a=e(409),i=e(184),s=function(t){var n=t.onSubmit,e=(0,c.useState)(""),u=(0,r.Z)(e,2),o=u[0],a=u[1];return(0,i.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n(o),a("")},children:[(0,i.jsx)("label",{children:(0,i.jsx)("input",{name:"query",placeholder:"write the name of the movie here",type:"text",autoComplete:"off",autoFocus:!0,onChange:function(t){a(t.target.value)},value:o})}),(0,i.jsx)("button",{type:"submit",children:"Search"})]})},f=e(731);function p(){var t,n=(0,c.useState)(1),e=(0,r.Z)(n,2),p=e[0],l=e[1],h=(0,c.useState)([]),d=(0,r.Z)(h,2),v=d[0],x=d[1],m=(0,f.lr)(),y=(0,r.Z)(m,2),b=y[0],j=y[1],w=null!==(t=b.get("query"))&&void 0!==t?t:"",k=(0,c.useState)(1),g=(0,r.Z)(k,2),_=g[0],S=g[1];(0,c.useEffect)((function(){w&&(0,u.Q_)(p,w).then((function(t){x(t.results),S(t.total_pages)}))}),[p,w]);return(0,i.jsxs)("div",{children:[(0,i.jsx)(s,{onSubmit:function(t){j(""!==t?{query:t}:{})}}),(0,i.jsx)(a.r,{children:v&&v.map((function(t){var n=t.title,e=t.poster_path,r=t.id,c=t.name;return window.scrollBy(0,-200),(0,i.jsx)(o.r,{name:c,title:n,id:r,poster:e},r)}))}),(0,i.jsxs)("div",{children:[p>1&&(0,i.jsx)("button",{type:"button",onClick:function(){l((function(t){return t-1}))},children:"Previous Page"}),(0,i.jsxs)("p",{children:["Page: ",p]}),_>1&&(0,i.jsx)("button",{type:"button",onClick:function(){l((function(t){return t+1}))},children:"Next Page"})]})]})}}}]);
//# sourceMappingURL=145.b7024bad.chunk.js.map